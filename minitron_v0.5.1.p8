pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
 poke(0x5f2d, 1)
 tiles={}
 apps={}
 buttons={}
 crtile(0,0,2,2,9,64)
 crtile(112,0,1,1,12,68)
 ao=0
end

function _update()
 msx=stat(32)
 msy=stat(33)
 for mapp in all(apps) do
	  if btnp(4) then
	   ao=0
	   del(apps,mapp)
	   del(buttons,mbut)
	 end
 end
 if stat(34)==1 and ao==0 then
  if msx>0 and msx<32 then
   if msy>0 and msy<32 then
    ao=1
    crapp("settings",9)
   end
  end
  if msx>112 and msx<128 then
   if msy>0 and msy<16 then
    ao=2
    crapp("power",9)
    crtbtn(50,40,50,10)
   end
  end
 end
end

function _draw()
 cls(0)
 drtile()
 drwapp()
 drwbtn()
 spr(0,msx,msy)
end
-->8
--tiles logick
function crtile(x,y,w,h,tcolor,t)
 mtile={}
 mtile.x=x
 mtile.y=y
 mtile.w=w
 mtile.h=h
 mtile.c=tcolor
 mtile.t=t
 add(tiles,mtile)
end

function uptile()
 
end

function drtile()
 for mtile in all(tiles) do
  rectfill(mtile.x,mtile.y,mtile.x+mtile.w*16-1,mtile.y+mtile.h*16-1,mtile.c)
  rect(mtile.x,mtile.y,mtile.x+mtile.w*16-1,mtile.y+mtile.h*16-1,5)
  spr(mtile.t,mtile.x,mtile.y,mtile.w*2,mtile.h*2)
 end
end
-->8
--apps logick
function crapp(n,c,t)
 mapp={}
 mapp.c=c
 mapp.n=n
 mapp.t=t
 add(apps,mapp)
end

function updapp()

end

function drwapp()
 for mapp in all(apps) do
  rectfill(0,0,127,127,6)
  rectfill(0,0,127,7,mapp.c)
  rect(0,0,127,127,5)
  rect(0,0,127,7,5)
  print(mapp.n,2,2,0)
 end
end
-->8
--buttons logick
function crtbtn(bx,by,bw,bh)
 mbut={}
 mbut.x=bx
 mbut.y=by
 mbut.w=bw
 mbut.h=bh
 add(buttons,mbut)
end

function updbtn()

end

function drwbtn()
 for mapp in all(apps) do
	 for mbut in all(buttons) do
	  rectfill(mbut.x,mbut.y,mbut.x+mbut.w-1,mbut.y+mbut.h-1,mapp.c)
	 end
	end
end
__gfx__
01000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17710000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17771000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17777100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
17711000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
01171000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000055000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000005055050000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000055055055000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555000000000000000000550055005500000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555000000000000000000550055005500000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555005555500555000000000000550000005500000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555555555555000000000000550000005500000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555555555555000000000000055000055000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555555555550000000000000005555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555555555550000000000000000555500000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555000555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000055555550000055555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000055555550000055555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000055555550000055555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555000555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055555555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555555555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555005555500555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
